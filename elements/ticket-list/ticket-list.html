<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout-classes.html">

<link rel="import" href="../ticket-item/ticket-item.html">

<dom-module id="ticket-list">
	<template>
		<style>
		</style>
			<iron-ajax
			 	auto
			 	url="data.json"
			 	handle-as="json"
			 	last-response="{{tickets}}"
			 	on-response="handleResponse">
		 	</iron-ajax>
		 	<div class="">
		       <template is="dom-repeat" items="{{ticket}}">
		       		<ticket-item
		       			title="{{item.title}}"
		       			body="{{item.body}}"
		       			resolution="{{item.resolution}}"
		       			created-on="{{item.created-on}}"
		       			severity="{{item.severity}}"
		       			company="{{item.company}}"
		       			updated-on="{{item.updated-on}}"
		       			tags="{{item.tags}}"
		       			status="{{item.status}}"
		       			created-by="{{item.created-by}}"
		       			assigned-to="{{item.assigned-to}}"
		       			assigned-to-name="{{item.assigned-to-name}}" >
		   			</ticket-item>
		        </template>
	        </div>
	</template>
	<script>
		Polymer({
			is: 'ticket-list',
			ready: function () {
				this.ticket = [
				  {
				    "title": "Eu Lorem in do eu excepteur aliqua.",
				    "body": "Deserunt qui incididunt consectetur do do occaecat consequat id aute et veniam labore.",
				    "resolution": "Tempor nisi elit esse dolor sit aute cillum irure officia.",
				    "created-on": "Tue Oct 27 1998 18:56:43 GMT-0500 (EST)",
				    "severity": "Low",
				    "company": "9e39db53-d331-4103-9876-1146e24b9976",
				    "updated-on": "Thu Dec 23 1982 04:06:35 GMT-0500 (EST)",
				    "tags": "{{}}",
				    "status": "Non-Issue",
				    "created-by": "fe7b9702-0340-4461-b8e7-849a71a0612e",
				    "assigned-to": "705d4cf4-6acd-42c7-9565-e16a6f013f3a",
				    "assigned-to-name": "Salazar"
				  }
				]
			}
		});
	</script>
</dom-module>